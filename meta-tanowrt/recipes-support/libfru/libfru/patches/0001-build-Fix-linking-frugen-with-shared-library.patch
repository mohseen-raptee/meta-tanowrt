From 8cc81538996cf3d3e493a924a592953e30bbafc7 Mon Sep 17 00:00:00 2001
From: Anton Kikin <a.kikin@tano-systems.com>
Date: Wed, 22 Feb 2023 03:48:29 +0300
Subject: [PATCH] build: Fix linking frugen with shared library

Signed-off-by: Anton Kikin <a.kikin@tano-systems.com>
---
 CMakeLists.txt | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/CMakeLists.txt b/CMakeLists.txt
index 686e2ca..ee32308 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -58,7 +58,7 @@ add_library(fru-shared SHARED fru.c)
 find_library(JSON_LIB json-c)
 SET_TARGET_PROPERTIES(fru-static PROPERTIES OUTPUT_NAME fru CLEAN_DIRECT_OUTPUT 1)
 SET_TARGET_PROPERTIES(fru-shared PROPERTIES OUTPUT_NAME fru CLEAN_DIRECT_OUTPUT 1)
-target_link_libraries(frugen fru-static)
+target_link_libraries(frugen fru-shared)
 target_link_libraries(frugen-static fru-static -static)
 if (JSON_LIB)
 	message (STATUS "Using JSON Library found at " ${JSON_LIB})
-- 
2.17.1

